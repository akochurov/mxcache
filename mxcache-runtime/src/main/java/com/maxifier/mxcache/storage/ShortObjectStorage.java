package com.maxifier.mxcache.storage;

/**
 * Project: Maxifier
 * Created by: Yakoushin Andrey
 * Date: 15.02.2010
 * Time: 13:29:47
 * <p/>
 * Copyright (c) 1999-2009 Magenta Corporation Ltd. All Rights Reserved.
 * Magenta Technology proprietary and confidential.
 * Use is subject to license terms.
 * <p>
 * ќтносительно абстрактных методов этого класса даютс€ следующие гарантии:
 * 1) ћетоды contains, get и put всегда вызываютс€ с блокировкой.
 * 2) ≈сли реализаци€ использует read-write блокировку, то методы contains и get
 *    вызываютс€ с блокировкой на чтение, а put - с блокировкой на запись.
 * 3) ≈сли метод contains возвращает true, то гарантируетс€, что вскоре при
 *    удерживаемой блокировке будет вызван метод get с таким же аргументом.
 *    (дл€ метода put таких гарантий не даетс€!)
 *
 * @author ELectronic ENgine
 */
public interface ShortObjectStorage<F> extends Storage {
    /**
     * This method should extract value for given key from internal representation.
     * @param key key
     * @return {@link Storage#UNDEFINED} if no value for key exists, value itself if it's set for given key.
     */
    Object load(short key);

    void save(short key, F value);
}
